{"ast":null,"code":"import axios from \"axios\";\nimport { create } from \"zustand\";\nimport { Debounce } from \"../Helpers/Debounc\";\nexport const homeStore = create(set => ({\n  coins: [],\n  trending: [],\n  query: \"\",\n  setQuery: e => {\n    set({\n      query: e.target.value\n    });\n    homeStore.getState().searchCoins();\n  },\n  searchCoins: Debounce(async () => {\n    const {\n      query,\n      trending\n    } = homeStore.getState();\n    if (query.length > 2) {\n      const res = await axios.get(`https://api.coingecko.com/api/v3/search?query=${query}`);\n      const coins = res.data.coins.map(coins => {\n        return {\n          name: coins.name,\n          image: coins.large,\n          id: coins.id\n        };\n      });\n      set({\n        coins\n      });\n    } else {\n      set({\n        coins: trending\n      });\n    }\n  }, 500),\n  fetchCoins: async () => {\n    const [res, btcRes] = await Promise.all([axios.get(`https://api.coingecko.com/api/v3/search/trending`), axios.get(`https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd`)]);\n    const btcPrice = btcRes.data.bitcoin.usd;\n    const coins = res.data.coins.map(coins => {\n      return {\n        name: coins.item.name,\n        image: coins.item.large,\n        id: coins.item.id,\n        priceBtc: coins.item.price_btc.toFixed(10),\n        priceUsd: (coins.item.price_btc * btcPrice).toFixed(10)\n      };\n    });\n    set({\n      coins,\n      trending: coins\n    });\n  }\n}));","map":{"version":3,"names":["axios","create","Debounce","homeStore","set","coins","trending","query","setQuery","e","target","value","getState","searchCoins","length","res","get","data","map","name","image","large","id","fetchCoins","btcRes","Promise","all","btcPrice","bitcoin","usd","item","priceBtc","price_btc","toFixed","priceUsd"],"sources":["/workspaces/coingecko-reactjs/src/Store/homeStore.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { create } from \"zustand\";\r\nimport { Debounce } from \"../Helpers/Debounc\";\r\n\r\nexport const homeStore = create((set) => ({\r\n  coins: [],\r\n  trending: [],\r\n  query: \"\",\r\n\r\n  setQuery: (e) => {\r\n    set({ query: e.target.value });\r\n    homeStore.getState().searchCoins();\r\n  },\r\n\r\n  searchCoins: Debounce(async () => {\r\n    const { query, trending } = homeStore.getState();\r\n    if (query.length > 2) {\r\n      const res = await axios.get(\r\n        `https://api.coingecko.com/api/v3/search?query=${query}`\r\n      );\r\n      const coins = res.data.coins.map((coins) => {\r\n        return {\r\n          name: coins.name,\r\n          image: coins.large,\r\n          id: coins.id,\r\n        };\r\n      });\r\n      set({ coins });\r\n    } else {\r\n      set({ coins: trending });\r\n    }\r\n  }, 500),\r\n\r\n  fetchCoins: async () => {\r\n    const [res, btcRes] = await Promise.all([\r\n      axios.get(`https://api.coingecko.com/api/v3/search/trending`),\r\n      axios.get(\r\n        `https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd`\r\n      ),\r\n    ]);\r\n\r\n    const btcPrice = btcRes.data.bitcoin.usd;\r\n\r\n    const coins = res.data.coins.map((coins) => {\r\n      return {\r\n        name: coins.item.name,\r\n        image: coins.item.large,\r\n        id: coins.item.id,\r\n        priceBtc: coins.item.price_btc.toFixed(10),\r\n        priceUsd: (coins.item.price_btc * btcPrice).toFixed(10),\r\n      };\r\n    });\r\n\r\n    set({ coins, trending: coins });\r\n  },\r\n}));\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,SAAS;AAChC,SAASC,QAAQ,QAAQ,oBAAoB;AAE7C,OAAO,MAAMC,SAAS,GAAGF,MAAM,CAAEG,GAAG,KAAM;EACxCC,KAAK,EAAE,EAAE;EACTC,QAAQ,EAAE,EAAE;EACZC,KAAK,EAAE,EAAE;EAETC,QAAQ,EAAGC,CAAC,IAAK;IACfL,GAAG,CAAC;MAAEG,KAAK,EAAEE,CAAC,CAACC,MAAM,CAACC;IAAM,CAAC,CAAC;IAC9BR,SAAS,CAACS,QAAQ,EAAE,CAACC,WAAW,EAAE;EACpC,CAAC;EAEDA,WAAW,EAAEX,QAAQ,CAAC,YAAY;IAChC,MAAM;MAAEK,KAAK;MAAED;IAAS,CAAC,GAAGH,SAAS,CAACS,QAAQ,EAAE;IAChD,IAAIL,KAAK,CAACO,MAAM,GAAG,CAAC,EAAE;MACpB,MAAMC,GAAG,GAAG,MAAMf,KAAK,CAACgB,GAAG,CACxB,iDAAgDT,KAAM,EAAC,CACzD;MACD,MAAMF,KAAK,GAAGU,GAAG,CAACE,IAAI,CAACZ,KAAK,CAACa,GAAG,CAAEb,KAAK,IAAK;QAC1C,OAAO;UACLc,IAAI,EAAEd,KAAK,CAACc,IAAI;UAChBC,KAAK,EAAEf,KAAK,CAACgB,KAAK;UAClBC,EAAE,EAAEjB,KAAK,CAACiB;QACZ,CAAC;MACH,CAAC,CAAC;MACFlB,GAAG,CAAC;QAAEC;MAAM,CAAC,CAAC;IAChB,CAAC,MAAM;MACLD,GAAG,CAAC;QAAEC,KAAK,EAAEC;MAAS,CAAC,CAAC;IAC1B;EACF,CAAC,EAAE,GAAG,CAAC;EAEPiB,UAAU,EAAE,YAAY;IACtB,MAAM,CAACR,GAAG,EAAES,MAAM,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACtC1B,KAAK,CAACgB,GAAG,CAAE,kDAAiD,CAAC,EAC7DhB,KAAK,CAACgB,GAAG,CACN,6EAA4E,CAC9E,CACF,CAAC;IAEF,MAAMW,QAAQ,GAAGH,MAAM,CAACP,IAAI,CAACW,OAAO,CAACC,GAAG;IAExC,MAAMxB,KAAK,GAAGU,GAAG,CAACE,IAAI,CAACZ,KAAK,CAACa,GAAG,CAAEb,KAAK,IAAK;MAC1C,OAAO;QACLc,IAAI,EAAEd,KAAK,CAACyB,IAAI,CAACX,IAAI;QACrBC,KAAK,EAAEf,KAAK,CAACyB,IAAI,CAACT,KAAK;QACvBC,EAAE,EAAEjB,KAAK,CAACyB,IAAI,CAACR,EAAE;QACjBS,QAAQ,EAAE1B,KAAK,CAACyB,IAAI,CAACE,SAAS,CAACC,OAAO,CAAC,EAAE,CAAC;QAC1CC,QAAQ,EAAE,CAAC7B,KAAK,CAACyB,IAAI,CAACE,SAAS,GAAGL,QAAQ,EAAEM,OAAO,CAAC,EAAE;MACxD,CAAC;IACH,CAAC,CAAC;IAEF7B,GAAG,CAAC;MAAEC,KAAK;MAAEC,QAAQ,EAAED;IAAM,CAAC,CAAC;EACjC;AACF,CAAC,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}